
<!DOCTYPE html>
<html>
<head runat="server">
    <title>CS602 - Java Programming - Metin Yorulmaz</title>
    <link href="public/stylesheets/reset.css" rel="stylesheet" type="text/css" />
    <link href="public/stylesheets/960.css" rel="stylesheet" type="text/css" />
    <link href="public/stylesheets/site.css" rel="stylesheet" type="text/css" />
</head>

<body>
    
    <div class="container_12">
        
        <div class="grid_12">
            <div id="header">
                CS602 - Java Programming
            </div>
        </div>

        <div class="grid_12">
            <div id="menu_container">
                <ul id="menu">
                    <li>
                       <a href="chapter1/assignment1.html"> Chapter 1 </a>
                    </li>
                    <li>
                       <a href="chapter3.html"> Chapter 3 </a>
                    </li>
                    <li>
                       <a href="chapter4_1.html"> Chapter 4 </a>
                    </li>
                    <li>
                       <a href="chapter5a_4.9.html"> Chapter 5a </a>
                    </li>
                    <li>
                       <a href="chapter5b_5.2.html"> Chapter 5b </a>
                    </li>
                    <li>
                       <a href="chapter6_6.3.html"> Chapter 6 </a>
                    </li>
                    <li>
                       <a href="chapter7_7.6.html"> Chapter 7 </a>
                    </li>
                    <li>
                       <a href="chapter8_8.5.html"> Chapter 8 </a>
                    </li>
                    <li>
                       <a href="chapter9.html"> Chapter 9 </a>
                    </li>
                    <li>
                       <a href="chapter10.html"> Chapter 10 </a>
                    </li>
                    <li class="current">
                       <a href="midterm1.html"> Exams </a>
                    </li>
                    <li>
                       <a href="final.html"> Project </a>
                    </li>
                </ul>
            </div>
            <div id="submenu_container">
                <ul class="submenu">
                    <li class="current">
                        <a href="midterm1.html"> Midterm 1 </a>
                    </li>
                    <li>
                        <a href="midterm2.html"> Midterm 2 </a>
                    </li>
                </ul>
            </div>
        </div>

        <div class="grid_12" id="content" style="background-color:#f1f1f1;">
            <br/>
            <p>
                Do Exercise 7.7 on page 304 of your textbook.
            </p>
            <br/>
            <br/>

<!-- code formatted by http://manoli.net/csharpformat/ -->
<h6>Circle</h6>
<div class="csharpcode">
<pre><span class="lnum">   1:  </span><span class="kwrd">&lt;</span><span class="html">APPLET</span>  <span class="attr">codebase</span><span class="kwrd">="midterm1/"</span> <span class="attr">code</span><span class="kwrd">="midterm1.BouncingBall3.class"</span> <span class="attr">width</span>=<span class="attr">400</span> <span class="attr">height</span>=<span class="attr">250</span><span class="kwrd">&gt;</span></pre>
<pre><span class="lnum">   2:  </span>    <span class="kwrd">&lt;</span><span class="html">param</span> <span class="attr">name</span><span class="kwrd">="delay"</span> <span class="attr">value</span><span class="kwrd">="20"</span><span class="kwrd">&gt;</span></pre>
<pre><span class="lnum">   3:  </span>    <span class="kwrd">&lt;</span><span class="html">param</span> <span class="attr">name</span><span class="kwrd">="shape"</span> <span class="attr">value</span><span class="kwrd">="circle"</span><span class="kwrd">&gt;</span></pre>
<pre><span class="lnum">   4:  </span><span class="kwrd">&lt;/</span><span class="html">APPLET</span><span class="kwrd">&gt;</span></pre>
</div>
<APPLET  codebase="midterm1/" code="midterm1.BouncingBall3.class" width=400 height=250>
    <param name="delay" value="20">
    <param name="shape" value="circle">
</APPLET>

<br/>

<h6>Square</h6>
<!-- code formatted by http://manoli.net/csharpformat/ -->
<div class="csharpcode">
<pre><span class="lnum">   1:  </span><span class="kwrd">&lt;</span><span class="html">APPLET</span> <span class="attr">codebase</span><span class="kwrd">="midterm1/"</span> <span class="attr">code</span><span class="kwrd">="midterm1.BouncingBall3.class"</span> <span class="attr">width</span>=<span class="attr">400</span> <span class="attr">height</span>=<span class="attr">250</span><span class="kwrd">&gt;</span></pre>
<pre><span class="lnum">   2:  </span>    <span class="kwrd">&lt;</span><span class="html">param</span> <span class="attr">name</span><span class="kwrd">="delay"</span> <span class="attr">value</span><span class="kwrd">="20"</span><span class="kwrd">&gt;</span></pre>
<pre><span class="lnum">   3:  </span>    <span class="kwrd">&lt;</span><span class="html">param</span> <span class="attr">name</span><span class="kwrd">="shape"</span> <span class="attr">value</span><span class="kwrd">="square"</span><span class="kwrd">&gt;</span></pre>
<pre><span class="lnum">   4:  </span><span class="kwrd">&lt;/</span><span class="html">APPLET</span><span class="kwrd">&gt;</span></pre>
</div>
<APPLET codebase="midterm1/" code="midterm1.BouncingBall3.class" width=400 height=250>
    <param name="delay" value="20">
    <param name="shape" value="square">
</APPLET>

<br/>
<h5>Image</h6>

<!-- code formatted by http://manoli.net/csharpformat/ -->
<div class="csharpcode">
<pre><span class="lnum">   1:  </span><span class="kwrd">&lt;</span><span class="html">APPLET</span> <span class="attr">codebase</span><span class="kwrd">="midterm1/"</span> <span class="attr">code</span><span class="kwrd">="midterm1.BouncingBall3.class"</span> <span class="attr">width</span>=<span class="attr">400</span> <span class="attr">height</span>=<span class="attr">250</span><span class="kwrd">&gt;</span></pre>
<pre><span class="lnum">   2:  </span>    <span class="kwrd">&lt;</span><span class="html">param</span> <span class="attr">name</span><span class="kwrd">="delay"</span> <span class="attr">value</span><span class="kwrd">="20"</span><span class="kwrd">&gt;</span></pre>
<pre><span class="lnum">   3:  </span>    <span class="kwrd">&lt;</span><span class="html">param</span> <span class="attr">name</span><span class="kwrd">="shape"</span> <span class="attr">value</span><span class="kwrd">="image"</span><span class="kwrd">&gt;</span></pre>
<pre><span class="lnum">   4:  </span>    <span class="kwrd">&lt;</span><span class="html">param</span> <span class="attr">name</span><span class="kwrd">="image"</span> <span class="attr">value</span><span class="kwrd">="midterm1/java.jpg"</span><span class="kwrd">&gt;</span></pre>
<pre><span class="lnum">   5:  </span><span class="kwrd">&lt;/</span><span class="html">APPLET</span><span class="kwrd">&gt;</span>  </pre>
</div>
<APPLET codebase="midterm1/" code="midterm1.BouncingBall3.class" width=400 height=250>
    <param name="delay" value="20">
    <param name="shape" value="image">
    <param name="image" value="midterm1/java.jpg">
</APPLET>  

<br/>

            <h5 class="sub">II. Source Code</h5>
            
            <br/>
            <h6>BouncingBall3.java</h6>
<!-- code formatted by http://manoli.net/csharpformat/ -->
<div class="csharpcode">
<pre><span class="lnum">   1:  </span>package midterm1;</pre>
<pre><span class="lnum">   2:  </span>&nbsp;</pre>
<pre><span class="lnum">   3:  </span>import java.awt.*;</pre>
<pre><span class="lnum">   4:  </span>&nbsp;</pre>
<pre><span class="lnum">   5:  </span><span class="kwrd">public</span> <span class="kwrd">class</span> BouncingBall3 extends BouncingBall2 {</pre>
<pre><span class="lnum">   6:  </span>&nbsp;</pre>
<pre><span class="lnum">   7:  </span>  <span class="kwrd">public</span> BouncingBall3() {</pre>
<pre><span class="lnum">   8:  </span>    super(); </pre>
<pre><span class="lnum">   9:  </span>  }</pre>
<pre><span class="lnum">  10:  </span>&nbsp;</pre>
<pre><span class="lnum">  11:  </span>  <span class="kwrd">protected</span> <span class="kwrd">void</span> initAnimator() {</pre>
<pre><span class="lnum">  12:  </span>    super.initAnimator();</pre>
<pre><span class="lnum">  13:  </span>    String attrShape = getParameter(<span class="str">"shape"</span>);</pre>
<pre><span class="lnum">  14:  </span>    BouncingObjectFactory objectFactory = <span class="kwrd">new</span> BouncingObjectFactory(<span class="kwrd">this</span>);</pre>
<pre><span class="lnum">  15:  </span>    bouncingObject = objectFactory.makeBouncingObject(attrShape);</pre>
<pre><span class="lnum">  16:  </span>  }</pre>
<pre><span class="lnum">  17:  </span>&nbsp;</pre>
<pre><span class="lnum">  18:  </span>  <span class="kwrd">protected</span> <span class="kwrd">void</span> paintFrame(Graphics g) {</pre>
<pre><span class="lnum">  19:  </span>    bouncingObject.bounce(g);</pre>
<pre><span class="lnum">  20:  </span>  }</pre>
<pre><span class="lnum">  21:  </span>&nbsp;</pre>
<pre><span class="lnum">  22:  </span>  <span class="kwrd">protected</span> BouncingObject bouncingObject;</pre>
<pre><span class="lnum">  23:  </span>  </pre>
<pre><span class="lnum">  24:  </span>}</pre>
</div>

            <h6>BouncingBall2.java</h6>
<!-- code formatted by http://manoli.net/csharpformat/ -->
<div class="csharpcode">
<pre><span class="lnum">   1:  </span>package midterm1;</pre>
<pre><span class="lnum">   2:  </span>&nbsp;</pre>
<pre><span class="lnum">   3:  </span>import java.awt.*;</pre>
<pre><span class="lnum">   4:  </span>&nbsp;</pre>
<pre><span class="lnum">   5:  </span><span class="kwrd">public</span> <span class="kwrd">class</span> BouncingBall2 extends DBAnimationApplet {</pre>
<pre><span class="lnum">   6:  </span>&nbsp;</pre>
<pre><span class="lnum">   7:  </span>  <span class="kwrd">public</span> BouncingBall2() {</pre>
<pre><span class="lnum">   8:  </span>    super(<span class="kwrd">true</span>);  <span class="rem">// double buffering</span></pre>
<pre><span class="lnum">   9:  </span>  }</pre>
<pre><span class="lnum">  10:  </span>&nbsp;</pre>
<pre><span class="lnum">  11:  </span>  <span class="kwrd">protected</span> <span class="kwrd">void</span> initAnimator() {</pre>
<pre><span class="lnum">  12:  </span>    String att = getParameter(<span class="str">"delay"</span>);</pre>
<pre><span class="lnum">  13:  </span>    <span class="kwrd">if</span> (att != <span class="kwrd">null</span>)</pre>
<pre><span class="lnum">  14:  </span>      setDelay(Integer.parseInt(att));</pre>
<pre><span class="lnum">  15:  </span>    x = d.width * 2 / 3 ;</pre>
<pre><span class="lnum">  16:  </span>    y = d.height - radius;</pre>
<pre><span class="lnum">  17:  </span>  }</pre>
<pre><span class="lnum">  18:  </span>&nbsp;</pre>
<pre><span class="lnum">  19:  </span>&nbsp;</pre>
<pre><span class="lnum">  20:  </span>  <span class="kwrd">protected</span> <span class="kwrd">void</span> paintFrame(Graphics g) {</pre>
<pre><span class="lnum">  21:  </span>    g.setColor(Color.white);</pre>
<pre><span class="lnum">  22:  </span>    g.fillRect(0,0,d.width,d.height);</pre>
<pre><span class="lnum">  23:  </span>    <span class="kwrd">if</span> (x &lt; radius || x &gt; d.width - radius) {</pre>
<pre><span class="lnum">  24:  </span>      dx = -dx;</pre>
<pre><span class="lnum">  25:  </span>    }</pre>
<pre><span class="lnum">  26:  </span>&nbsp;</pre>
<pre><span class="lnum">  27:  </span>    <span class="kwrd">if</span> (y &lt; radius || y &gt; d.height - radius) {</pre>
<pre><span class="lnum">  28:  </span>      dy  =  -dy;</pre>
<pre><span class="lnum">  29:  </span>    }</pre>
<pre><span class="lnum">  30:  </span>    x += dx; y += dy;</pre>
<pre><span class="lnum">  31:  </span>    g.setColor(color);</pre>
<pre><span class="lnum">  32:  </span>    g.fillOval(x - radius, y - radius, radius * 2, radius * 2);</pre>
<pre><span class="lnum">  33:  </span>  }</pre>
<pre><span class="lnum">  34:  </span>&nbsp;</pre>
<pre><span class="lnum">  35:  </span>  <span class="kwrd">protected</span> <span class="kwrd">int</span> x, y;</pre>
<pre><span class="lnum">  36:  </span>  <span class="kwrd">protected</span> <span class="kwrd">int</span> dx = -2, dy = -4;</pre>
<pre><span class="lnum">  37:  </span>  <span class="kwrd">protected</span> <span class="kwrd">int</span> radius = 20;</pre>
<pre><span class="lnum">  38:  </span>  <span class="kwrd">protected</span> Color color = Color.green;</pre>
<pre><span class="lnum">  39:  </span>}</pre>
</div>
            <br/>
            
            <h6>BouncingObject.java</h6>
<!-- code formatted by http://manoli.net/csharpformat/ -->
<div class="csharpcode">
<pre><span class="lnum">   1:  </span>package midterm1;</pre>
<pre><span class="lnum">   2:  </span>&nbsp;</pre>
<pre><span class="lnum">   3:  </span>import java.awt.*;</pre>
<pre><span class="lnum">   4:  </span>&nbsp;</pre>
<pre><span class="lnum">   5:  </span><span class="kwrd">public</span> <span class="kwrd">interface</span> BouncingObject {</pre>
<pre><span class="lnum">   6:  </span>    </pre>
<pre><span class="lnum">   7:  </span>    <span class="kwrd">public</span> <span class="kwrd">void</span> bounce(Graphics g);</pre>
<pre><span class="lnum">   8:  </span>    </pre>
<pre><span class="lnum">   9:  </span>}</pre>
</div>
            <br/>
            <h6>BouncingCircle.java</h6>
<!-- code formatted by http://manoli.net/csharpformat/ -->
<div class="csharpcode">
<pre><span class="lnum">   1:  </span>package midterm1;</pre>
<pre><span class="lnum">   2:  </span>import java.awt.Color;</pre>
<pre><span class="lnum">   3:  </span>import java.awt.Dimension;</pre>
<pre><span class="lnum">   4:  </span>import java.awt.Graphics;</pre>
<pre><span class="lnum">   5:  </span>&nbsp;</pre>
<pre><span class="lnum">   6:  </span><span class="kwrd">public</span> <span class="kwrd">class</span> BouncingCircle implements BouncingObject {</pre>
<pre><span class="lnum">   7:  </span>    </pre>
<pre><span class="lnum">   8:  </span>    <span class="kwrd">public</span> BouncingCircle(){</pre>
<pre><span class="lnum">   9:  </span>        x = 3*radius;</pre>
<pre><span class="lnum">  10:  </span>        y = 3*radius;</pre>
<pre><span class="lnum">  11:  </span>    }</pre>
<pre><span class="lnum">  12:  </span>&nbsp;</pre>
<pre><span class="lnum">  13:  </span>    <span class="kwrd">public</span> BouncingCircle(AnimationApplet animator){</pre>
<pre><span class="lnum">  14:  </span>        <span class="kwrd">this</span>.animator = animator;</pre>
<pre><span class="lnum">  15:  </span>        Dimension d = animator.getSize();</pre>
<pre><span class="lnum">  16:  </span>        x = d.width * 2 / 3 ;</pre>
<pre><span class="lnum">  17:  </span>        y = d.height - radius;</pre>
<pre><span class="lnum">  18:  </span>    }</pre>
<pre><span class="lnum">  19:  </span>    </pre>
<pre><span class="lnum">  20:  </span>    <span class="kwrd">public</span> <span class="kwrd">void</span> bounce(Graphics g){</pre>
<pre><span class="lnum">  21:  </span>        Dimension d = animator.getSize();</pre>
<pre><span class="lnum">  22:  </span>        g.setColor(Color.white);</pre>
<pre><span class="lnum">  23:  </span>        g.fillRect(0,0,d.width,d.height);</pre>
<pre><span class="lnum">  24:  </span>        <span class="kwrd">if</span> (x &lt; radius || x &gt; d.width - radius) {</pre>
<pre><span class="lnum">  25:  </span>          dx = -dx;</pre>
<pre><span class="lnum">  26:  </span>        }</pre>
<pre><span class="lnum">  27:  </span>&nbsp;</pre>
<pre><span class="lnum">  28:  </span>        <span class="kwrd">if</span> (y &lt; radius || y &gt; d.height - radius) {</pre>
<pre><span class="lnum">  29:  </span>          dy  =  -dy;</pre>
<pre><span class="lnum">  30:  </span>        }</pre>
<pre><span class="lnum">  31:  </span>        x += dx; y += dy;</pre>
<pre><span class="lnum">  32:  </span>        g.setColor(color);</pre>
<pre><span class="lnum">  33:  </span>        g.fillOval(x - radius, y - radius, radius * 2, radius * 2);</pre>
<pre><span class="lnum">  34:  </span>    }</pre>
<pre><span class="lnum">  35:  </span>&nbsp;</pre>
<pre><span class="lnum">  36:  </span>    <span class="kwrd">protected</span> <span class="kwrd">int</span> x, y;</pre>
<pre><span class="lnum">  37:  </span>    <span class="kwrd">protected</span> <span class="kwrd">int</span> dx = -2, dy = -4;</pre>
<pre><span class="lnum">  38:  </span>    <span class="kwrd">protected</span> <span class="kwrd">int</span> radius = 20;</pre>
<pre><span class="lnum">  39:  </span>    <span class="kwrd">protected</span> Color color = Color.green;</pre>
<pre><span class="lnum">  40:  </span>    <span class="kwrd">protected</span> AnimationApplet animator;</pre>
<pre><span class="lnum">  41:  </span>}</pre>
</div>

            <br/>
            <h6>BouncingSquare.java</h6>
<!-- code formatted by http://manoli.net/csharpformat/ -->
<div class="csharpcode">
<pre><span class="lnum">   1:  </span>package midterm1;</pre>
<pre><span class="lnum">   2:  </span>import java.awt.Color;</pre>
<pre><span class="lnum">   3:  </span>import java.awt.Dimension;</pre>
<pre><span class="lnum">   4:  </span>import java.awt.Graphics;</pre>
<pre><span class="lnum">   5:  </span>&nbsp;</pre>
<pre><span class="lnum">   6:  </span>  </pre>
<pre><span class="lnum">   7:  </span><span class="kwrd">public</span> <span class="kwrd">class</span> BouncingSquare implements BouncingObject {</pre>
<pre><span class="lnum">   8:  </span>  </pre>
<pre><span class="lnum">   9:  </span>  <span class="kwrd">public</span> BouncingSquare(){</pre>
<pre><span class="lnum">  10:  </span>    x = edgeLength;</pre>
<pre><span class="lnum">  11:  </span>    y = edgeLength;</pre>
<pre><span class="lnum">  12:  </span>  }</pre>
<pre><span class="lnum">  13:  </span>&nbsp;</pre>
<pre><span class="lnum">  14:  </span>  <span class="kwrd">public</span> BouncingSquare(AnimationApplet animator){</pre>
<pre><span class="lnum">  15:  </span>      <span class="kwrd">this</span>.animator = animator;</pre>
<pre><span class="lnum">  16:  </span>      Dimension d = animator.getSize();</pre>
<pre><span class="lnum">  17:  </span>      x = d.width * 2 / 3 ;</pre>
<pre><span class="lnum">  18:  </span>      y = d.height - edgeLength/2;</pre>
<pre><span class="lnum">  19:  </span>  }</pre>
<pre><span class="lnum">  20:  </span>  </pre>
<pre><span class="lnum">  21:  </span>  <span class="kwrd">public</span> <span class="kwrd">void</span> bounce(Graphics g){</pre>
<pre><span class="lnum">  22:  </span>      Dimension d = animator.getSize();</pre>
<pre><span class="lnum">  23:  </span>      g.setColor(Color.white);</pre>
<pre><span class="lnum">  24:  </span>      g.fillRect(0,0,d.width,d.height);</pre>
<pre><span class="lnum">  25:  </span>      <span class="kwrd">if</span> (x &lt; edgeLength/2 || x &gt; d.width - edgeLength/2) {</pre>
<pre><span class="lnum">  26:  </span>        dx = -dx;</pre>
<pre><span class="lnum">  27:  </span>      }</pre>
<pre><span class="lnum">  28:  </span>      <span class="kwrd">if</span> (y &lt; edgeLength/2 || y &gt; d.height - edgeLength/2) {</pre>
<pre><span class="lnum">  29:  </span>        dy  =  -dy;</pre>
<pre><span class="lnum">  30:  </span>      }</pre>
<pre><span class="lnum">  31:  </span>      x += dx; y += dy;</pre>
<pre><span class="lnum">  32:  </span>      g.setColor(color);</pre>
<pre><span class="lnum">  33:  </span>      g.fillRect(x - edgeLength/2, y - edgeLength/2, edgeLength, edgeLength);</pre>
<pre><span class="lnum">  34:  </span>  }</pre>
<pre><span class="lnum">  35:  </span>  </pre>
<pre><span class="lnum">  36:  </span>  <span class="kwrd">protected</span> <span class="kwrd">int</span> x, y;</pre>
<pre><span class="lnum">  37:  </span>  <span class="kwrd">protected</span> <span class="kwrd">int</span> dx = -2, dy = -2;</pre>
<pre><span class="lnum">  38:  </span>  <span class="kwrd">protected</span> <span class="kwrd">int</span> edgeLength = 40;</pre>
<pre><span class="lnum">  39:  </span>  <span class="kwrd">protected</span> Color color = Color.red;</pre>
<pre><span class="lnum">  40:  </span>  <span class="kwrd">protected</span> AnimationApplet animator;</pre>
<pre><span class="lnum">  41:  </span>&nbsp;</pre>
<pre><span class="lnum">  42:  </span>}</pre>
</div>

            <br/>
            <h6>BouncingImage.java</h6>
<!-- code formatted by http://manoli.net/csharpformat/ -->
<div class="csharpcode">
<pre><span class="lnum">   1:  </span>package midterm1;</pre>
<pre><span class="lnum">   2:  </span>import java.awt.Color;</pre>
<pre><span class="lnum">   3:  </span>import java.awt.Dimension;</pre>
<pre><span class="lnum">   4:  </span>import java.awt.Graphics;</pre>
<pre><span class="lnum">   5:  </span>import java.awt.Image;</pre>
<pre><span class="lnum">   6:  </span>&nbsp;</pre>
<pre><span class="lnum">   7:  </span>    </pre>
<pre><span class="lnum">   8:  </span><span class="kwrd">public</span> <span class="kwrd">class</span> BouncingImage implements BouncingObject {</pre>
<pre><span class="lnum">   9:  </span>    </pre>
<pre><span class="lnum">  10:  </span>    <span class="kwrd">public</span> BouncingImage(){</pre>
<pre><span class="lnum">  11:  </span>        x = imgWidth;</pre>
<pre><span class="lnum">  12:  </span>        y = imgHeight;</pre>
<pre><span class="lnum">  13:  </span>    }</pre>
<pre><span class="lnum">  14:  </span>&nbsp;</pre>
<pre><span class="lnum">  15:  </span>    <span class="kwrd">public</span> BouncingImage(AnimationApplet animator){</pre>
<pre><span class="lnum">  16:  </span>        <span class="kwrd">this</span>.animator = animator;</pre>
<pre><span class="lnum">  17:  </span>        Dimension d = animator.getSize();</pre>
<pre><span class="lnum">  18:  </span>        x = d.width * 2 / 3 ;</pre>
<pre><span class="lnum">  19:  </span>        y = d.height - imgHeight/2;</pre>
<pre><span class="lnum">  20:  </span>        <span class="kwrd">try</span>{</pre>
<pre><span class="lnum">  21:  </span>            String imageName = animator.getParameter(<span class="str">"image"</span>);</pre>
<pre><span class="lnum">  22:  </span>            image  = animator.getImage(animator.getDocumentBase(), imageName);</pre>
<pre><span class="lnum">  23:  </span>        }<span class="kwrd">catch</span>(Exception e){}</pre>
<pre><span class="lnum">  24:  </span>    }</pre>
<pre><span class="lnum">  25:  </span>    </pre>
<pre><span class="lnum">  26:  </span>    <span class="kwrd">public</span> <span class="kwrd">void</span> bounce(Graphics g){</pre>
<pre><span class="lnum">  27:  </span>        Dimension d = animator.getSize();</pre>
<pre><span class="lnum">  28:  </span>        g.setColor(Color.white);</pre>
<pre><span class="lnum">  29:  </span>        g.fillRect(0,0,d.width,d.height);</pre>
<pre><span class="lnum">  30:  </span>        d = animator.getSize();</pre>
<pre><span class="lnum">  31:  </span>        <span class="kwrd">if</span> (x &lt; imgWidth/2 || x &gt; d.width - imgWidth/2) {</pre>
<pre><span class="lnum">  32:  </span>          dx = -dx;</pre>
<pre><span class="lnum">  33:  </span>        }</pre>
<pre><span class="lnum">  34:  </span>        </pre>
<pre><span class="lnum">  35:  </span>        <span class="kwrd">if</span> (y &lt; imgHeight/2 || y &gt; d.height - imgHeight/2) {</pre>
<pre><span class="lnum">  36:  </span>          dy  =  -dy;</pre>
<pre><span class="lnum">  37:  </span>        }</pre>
<pre><span class="lnum">  38:  </span>        x += dx; y += dy;</pre>
<pre><span class="lnum">  39:  </span>&nbsp;</pre>
<pre><span class="lnum">  40:  </span>        g.drawImage(image, x - imgWidth/2, y - imgHeight/2, imgHeight, imgWidth, animator);</pre>
<pre><span class="lnum">  41:  </span>    }</pre>
<pre><span class="lnum">  42:  </span>&nbsp;</pre>
<pre><span class="lnum">  43:  </span>    <span class="kwrd">protected</span> <span class="kwrd">int</span> x, y;</pre>
<pre><span class="lnum">  44:  </span>    <span class="kwrd">protected</span> <span class="kwrd">int</span> dx = -2, dy = -2;</pre>
<pre><span class="lnum">  45:  </span>    <span class="kwrd">protected</span> <span class="kwrd">int</span> imgHeight = 50;</pre>
<pre><span class="lnum">  46:  </span>    <span class="kwrd">protected</span> <span class="kwrd">int</span> imgWidth = 50;</pre>
<pre><span class="lnum">  47:  </span>    <span class="kwrd">protected</span> AnimationApplet animator;</pre>
<pre><span class="lnum">  48:  </span>    <span class="kwrd">protected</span> Image image;</pre>
<pre><span class="lnum">  49:  </span>&nbsp;</pre>
<pre><span class="lnum">  50:  </span>}</pre>
</div>

            <br/>
            <h6>BouncingObjectFactory.java</h6>
<!-- code formatted by http://manoli.net/csharpformat/ -->
<div class="csharpcode">
<pre><span class="lnum">   1:  </span>package midterm1;</pre>
<pre><span class="lnum">   2:  </span>&nbsp;</pre>
<pre><span class="lnum">   3:  </span><span class="kwrd">public</span> <span class="kwrd">class</span> BouncingObjectFactory  {</pre>
<pre><span class="lnum">   4:  </span>&nbsp;</pre>
<pre><span class="lnum">   5:  </span>  <span class="kwrd">protected</span> AnimationApplet animator; </pre>
<pre><span class="lnum">   6:  </span>  <span class="kwrd">public</span> BouncingObjectFactory(AnimationApplet animator) {</pre>
<pre><span class="lnum">   7:  </span>    <span class="kwrd">this</span>.animator = animator; </pre>
<pre><span class="lnum">   8:  </span>  }</pre>
<pre><span class="lnum">   9:  </span>&nbsp;</pre>
<pre><span class="lnum">  10:  </span>  <span class="kwrd">public</span> BouncingObject makeBouncingObject(String objType) {</pre>
<pre><span class="lnum">  11:  </span>    <span class="kwrd">if</span>(objType.equals(<span class="str">"circle"</span>))</pre>
<pre><span class="lnum">  12:  </span>      <span class="kwrd">return</span> <span class="kwrd">new</span> BouncingCircle(animator);</pre>
<pre><span class="lnum">  13:  </span>    <span class="kwrd">else</span> <span class="kwrd">if</span>(objType.equals(<span class="str">"square"</span>))</pre>
<pre><span class="lnum">  14:  </span>      <span class="kwrd">return</span> <span class="kwrd">new</span> BouncingSquare(animator);</pre>
<pre><span class="lnum">  15:  </span>    <span class="kwrd">else</span> <span class="kwrd">if</span>(objType.equals(<span class="str">"image"</span>))</pre>
<pre><span class="lnum">  16:  </span>        <span class="kwrd">return</span> <span class="kwrd">new</span> BouncingImage(animator);</pre>
<pre><span class="lnum">  17:  </span>    <span class="kwrd">else</span></pre>
<pre><span class="lnum">  18:  </span>      <span class="kwrd">return</span> <span class="kwrd">new</span> BouncingCircle(animator);</pre>
<pre><span class="lnum">  19:  </span>  }</pre>
<pre><span class="lnum">  20:  </span>}</pre>
</div>

            <br/>

            <br/>



            <h5 class="sub">III. Screenshots</h5>
            <h6>Circle</h6>
            <img src='midterm1/screen1.png'></img> <br/><br/>
            <h6>Square</h6>
            <img src='midterm1/screen2.png'></img><br/><br/>
            <h6>Image</h6>
            <img src='midterm1/screen3.png'></img><br/><br/>


            <h5 class="sub">IV. Test</h5>
            <p>
                I was not able to generate test cases for applets. I am not sure if we are supposed to write unit test for applets. Since BouncingBall2 is applet and there were no other utiliy classes to write unit test for. I was not able to find a functionality to write a unit test for.
            </p>
            <p>
                Difficulties when testing an applet are like this. There is no way to simulate applet parameters passed from html. Rendered graphic on applet is not testable. There is no way to use assertions for rendered graphics.
            </p>
            <p>
             These are simple tests for BouncingBall3 to test object instantiation.  The only test I was able to write for BouncingBall2 was to test instatiation.
            </p>
            <h6>BouncingBallTest.java</h6>

<!-- code formatted by http://manoli.net/csharpformat/ -->
<div class="csharpcode">
<pre><span class="lnum">   1:  </span>package midterm1;</pre>
<pre><span class="lnum">   2:  </span>import <span class="kwrd">static</span> org.junit.Assert.*;</pre>
<pre><span class="lnum">   3:  </span>&nbsp;</pre>
<pre><span class="lnum">   4:  </span>import org.junit.Test;</pre>
<pre><span class="lnum">   5:  </span>&nbsp;</pre>
<pre><span class="lnum">   6:  </span>&nbsp;</pre>
<pre><span class="lnum">   7:  </span><span class="kwrd">public</span> <span class="kwrd">class</span> BouncingBallTest {</pre>
<pre><span class="lnum">   8:  </span>&nbsp;</pre>
<pre><span class="lnum">   9:  </span>    @Test</pre>
<pre><span class="lnum">  10:  </span>    <span class="kwrd">public</span> <span class="kwrd">void</span> testPresence() {</pre>
<pre><span class="lnum">  11:  </span>        BouncingBall3 bb3 = <span class="kwrd">new</span> BouncingBall3();</pre>
<pre><span class="lnum">  12:  </span>        assertFalse(bb3 == <span class="kwrd">null</span>);</pre>
<pre><span class="lnum">  13:  </span>    }</pre>
<pre><span class="lnum">  14:  </span>    </pre>
<pre><span class="lnum">  15:  </span>    @Test</pre>
<pre><span class="lnum">  16:  </span>    <span class="kwrd">public</span> <span class="kwrd">void</span> testStrategies() {</pre>
<pre><span class="lnum">  17:  </span>        BouncingBall3 bb3 = <span class="kwrd">new</span> BouncingBall3();</pre>
<pre><span class="lnum">  18:  </span>        BouncingObjectFactory bof = <span class="kwrd">new</span> BouncingObjectFactory(bb3);</pre>
<pre><span class="lnum">  19:  </span>        BouncingObject bobj = bof.makeBouncingObject(<span class="str">"circle"</span>);</pre>
<pre><span class="lnum">  20:  </span>        assertTrue(bobj instanceof BouncingCircle);</pre>
<pre><span class="lnum">  21:  </span>        bobj = bof.makeBouncingObject(<span class="str">"square"</span>);</pre>
<pre><span class="lnum">  22:  </span>        assertTrue(bobj instanceof BouncingSquare);</pre>
<pre><span class="lnum">  23:  </span>        bobj = bof.makeBouncingObject(<span class="str">"image"</span>);</pre>
<pre><span class="lnum">  24:  </span>        assertTrue(bobj instanceof BouncingImage);</pre>
<pre><span class="lnum">  25:  </span>    }</pre>
<pre><span class="lnum">  26:  </span>&nbsp;</pre>
<pre><span class="lnum">  27:  </span>}</pre>
</div>
<br/>
            <img src='midterm1/test.png'></img> <br/><br/>


            <h5 class="sub">V. Explanation</h5>

            <p>
            First thing I did was to create another applet which inherits from BouncingBall2. This way, I don't have to change BouncingBall2, which may still be used by some other clients. Instead of changing existing implementation I just created another implementation, BouncingBall3.
            </p>

            <p>
            BouncingBall3 render the bouncing object by using a strategy pattern. Basically, what is being rendered an animated is not known by BouncingBall3. There are three different BouncingObjects that accepts and implements same contract(BouncingObject interface, see BouncingObject.java)
            </p>

            <p>
            BouncingBall3 overwrites initAnimator method of BouncingBall2 but still use it. It first calls BouncingBall3's initAnimator method to get 'delay' parameter. Then it reads 'shape' applet parameter and passes to  BouncingObjectFactory to requested get bouncing object strategy( can be 'circle', 'square' and 'image')
            </p>

            <p>
            By overwriting paintFrame method and delegating painting to a instance of BouncingObject class, BouncingBall3 seperates animated object. 
            </p>

            <br/>

            <img src='midterm1/classd.jpg' width='800px'></img> 
            <br/><br/>
            <a href='midterm1/classd.pdf'>Download as PDF</a>

<br/>
<br/>
<br/>

        </div>


        <div class="grid_12" style="height:500px;background-color:#111;">
            <div style="text-align:center">
                CS602 - Java Programming - Metin Yorulmaz
            </div>
        </div>

    </div>
</body>
</html>
